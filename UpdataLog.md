# iMery Update Log

> **작성 규칙 (Format Rules)**
>
> 1. **순서**: 오래된 날짜/버전부터 최신 순으로 아래로 작성합니다. (Chronological Order)
> 2. **형식**: `## v.X.X (YYYY.MM.DD)` 포맷을 사용합니다.
> 3. **상세 기록**: 단순 기능 명세뿐만 아니라, **기획 의도, 예시 데이터, 태그 정의** 등을 상세히 포함하여 개발 맥락을 보존합니다.
> 4. **카테고리**: `### [Feature]`, `### [UI]`, `### [Fix]`, `### [Plan]` 등으로 분류합니다.

---

## v.0.1.1 (2026.01.17)

### [Structure]

- [x] **FSD 폴더 구조 개편**: 기능 단위 분리.
- [x] **실행 환경**: `npm start` 시 Expo Go 및 모바일 시뮬레이터 호환성 확보.

### [UI]

- **하단 네비게이션 버튼 변경**:
  - 한글 텍스트 제거, 아이콘만 표시하여 심플함 강조.
  - `active:scale-90` 애니메이션 적용.
- **[저장된 작품] 리스트**:
  - 가로 스크롤(Horizontal Scroll) 적용.
  - 상위 5개 작품만 우선 노출, 사이즈 소폭 축소.
- **[작품] 전체 보기**:
  - 수정/삭제 버튼을 이미지 우측 상단 아이콘으로 변경.
  - [폴더로 돌아가기] 버튼에 둥근 모서리 적용.

### [Feature] (Plan)

- **AI 분석 기능 기획**:
  - 감상평 상단에 AI 요약 기능 추가 예정.
  - 버튼 디자인: 앱의 심미성과 어울리는 프리미엄 디자인 적용.

---

## v.1.3 (2026.01.19)

### [Infra]

- **데이터베이스 마이그레이션 (TiDB Cloud)**:
  - Local SQLite에서 TiDB(MySQL 호환)로 이전.
  - **Host**: `gateway01.ap-northeast-1.prod.aws.tidbcloud.com`
  - **Schema**: `users` (인증), `posts` (작품 데이터) 테이블 구조 확립.
  - **Index**: `user_id` FK 인덱스 적용.

---

## v.1.4 (2026.01.21)

### [Feature] 태그 시스템 (Tag System v1)

**기획 의도**: 사용자가 작품의 감상을 구체적인 언어로 정의할 수 있도록 **3단계 계층형 태그** 도입.

1. **구조**: [대분류] -> [중분류] -> [소분류]
2. **규칙**:
   - 대분류([작품], [공간], [경험]) 선택 시 하위 태그 노출 (반응형).
   - DB에는 **최하위 태그**만 저장 (예: [작품]->[압도적]->[웅장함] 선택 시 '웅장함' 저장).
   - 최대 5개 선택 제한.

**태그 정의 (Detailed Definition):**

#### 1. 🏔️ [작품] The Artwork

_작품 자체에서 느껴지는 미학적 가치와 감성적 파동_

- **🏔️ 압도적**: 웅장함, 경이로움, 강렬함, 전율
- **🎆 기쁨**: 황홀경, 생동감, 유쾌, 낙관
- **🕊️ 평화**: 평온함, 따스함, 정화, 고요
- **🍂 고독**: 먹먹함, 공허함, 애잔함, 비극성
- **🌀 난해**: 기괴함, 파격, 이질감, 혼란
- **💡 영감**: 독창성, 철학성, 호기심, 통찰력

#### 2. 🏛️ [공간] The Space

_관람 환경의 물리적 특성_

- **🌕 조명**: 몰입감, 화사함, 자연광, 은은함
- **🎧 환경**: 적막, 활기, 북적임, 엄숙함
- **🧱 분위기**: 세련미, 고풍미, 개방감, 폐쇄성
- **🛠️ 소재**: 자연물, 인공물, 질감, 금속성
- **📏 배치**: 비정형, 균형감, 미니멀, 다채로움
- **🗺️ 입지**: 도심, 숲속, 가정, 재생

#### 3. ✨ [경험] The Experience

_관람객이 얻는 정보와 맥락_

- **🧠 이해**: 직관성, 전문성, 친절함, 서사
- **🛍️ 소장**: 소장품, 심미성, 실용성, 희소성
- **☕ 여운**: 낭만, 사색, 유익, 잔상
- **🤝 관계**: 연인, 친구, 가족, 혼자
- **👣 활동**: 인증, 체험, 안내, 산책
- **📍 편의**: 접근성, 주차, 카페, 휴식처

### [UI]

- **태그 아이콘 추가**: 텍스트 태그 옆에 시각적 아이콘(🏔️, 🏛️ 등) 병기.
- **날짜 제한**: 미래 날짜 선택 불가 처리 (회색 비활성화).

### [Refactor]

- **DB 컬럼 변경**: `category` -> `genre` (명칭 변경으로 명확성 확보).

---

## v.1.5 (2026.01.22)

### [UI] 상세 디자인 개선

- **Glassmorphism**: 폴더 뷰 등에서 `backdrop-blur` 효과 적용 버튼 사용.
- **태그 레이아웃**:
  - 작품 설명(날짜/작가) 하단에 태그 배치.
  - 날짜 텍스트보다 작게 디자인하여 위계 조정.
- **가독성 개선**: 상세 페이지 텍스트에 불투명 배경 추가 (`bg-white/40`).
- **버튼 최적화**: 수정/삭제 버튼 사이즈 축소, 삭제 버튼에 시그니처 레드 컬러 적용.

### [Feature] AI 오디오 도슨트 (Audio Feature)

- **기능**: 사용자가 [저장된 작품] 진입 시, 작품 분위기에 맞는 음악 자동 재생.
- **로직**:
  - DB `music_url` 필드 활용.
  - 10초 구간 반복 재생 (Loop).
  - **아이콘**: 공유 버튼 좌측에 위치. 재생 중일 때 색상 변경(Active State).
- **예외 처리**: 음악 URL이 없을 경우 "AI가 노래를 생성 중입니다" 토스트 알림.

### [UX] 홈 리스트 확장

- **Infinite Scroll**: 초기 5개 출력 후 하단 [더보기] 버튼으로 추가 로드.

---

## v.2.0 (2026.01.26 ~ 28)

### [Milestone] Mobile Migration

- **플랫폼 전환**: Web -> **React Native (Expo)**.
- **앱 슬로건**: "작품을 듣는 시간" 확정.

---

## v.2.1 (2026.01.29)

### [Feature] Community & Privacy

- **공개 범위 설정 (Privacy Control)**:
  - **전체 공개**: 커뮤니티(모두)에 노출.
  - **친구 공개**: 팔로잉 탭(친구)에만 노출.
  - **나만 보기**: 아카이브(본인)에만 노출.
  - _Legacy Data Migration_: 기존 작품은 모두 "전체 공개"로 초기화.

### [Structure] 탭 구조 개편

- **Social 분리**: 홈에서 피드 기능을 분리하여 **[피드]** 탭 신설.
- **Archive 통합**: [작품 폴더] 기능을 **[아카이브]** 탭으로 이동.

### [UI] Feed Design

- **Facebook Style**: 카드형 피드 디자인 채용.
- **Tab View**:
  - **Community**: 전체 공개 최신글.
  - **Following**: 친구 공개 최신글.
- **Interaction**: 좋아요(💖), 북마크(🔖) 실시간 반영.

---

## v.2.2 (2026.01.29 ~ 30)

### [Feature] Home Widgets

- **Banner Carousel**: 기존 텍스트 리스트를 슬라이드형 배너 위젯으로 교체.
- **Pagination**: 홈 하단 리스트에 [더보기] 페이지네이션 적용.

### [Refactor] Audio Engine (Safe Audio)

- **Race Condition Fix**: 페이지 이탈 후 음악이 재생되는 문제 해결.
- **Logic**: `isFocusedRef`를 통해 화면 포커스 상태 확인 후 오디오 로드/재생 결정.

### [Fix] Routing & Crash

- **Expo Router**: `+html 2.tsx` 등 중복 라우트 파일 삭제로 부팅 크래시 해결.
- **TabBar**: 탭바 그림자(Shadow) 제거로 깔끔한 UI 적용.

---

## v.2.3 (2026.01.30 ~ )

## v.2.4 (2026.02.01)

### [Feature] Ticket UI & Interaction

- **Ticket Visual Refresh**:
  - **"Original Ticket" Design**: 물리적 티켓의 감성을 살린 **세로형 카드 디자인** 도입.
  - **Scalloped Edges (Soft Square)**: 티켓 상하단에 부드러운 사각형 노치(Notch) 패턴 적용 (`Cubic Bezier` Path).
  - **Dynamic Styling**: 티켓 배경색에 따라 텍스트 색상(Black/White) 자동 최적화.

- **Interaction**:
  - **Modal Viewer**: "My Tickets" 그리드 클릭 시 전체 화면 티켓 뷰어(Modal) 실행.
  - **Gesture Support**:
    - **Swipe Left/Right**: 티켓 간 넘기기.
    - **Swipe Down**: 티켓 상세 페이지(전시회 정보)로 이동.

### [Fix] Legacy Data Migration

- **Date Grouping**:
  - 기존 데이터(`2024.01.01`로 하드코딩된 레거시)를 실제 `work_date` 기반으로 재분류.
  - 날짜별로 별도의 전시회(`Exhibition`) 생성하여 티켓 분리.
- **Location mapping**:
  - 마이그레이션된 전시회의 장소를 `Sejong Museum Gallery`에서 실제 데이터 기반으로 분기 처리 (Future Work).

---
